{% extends 'base.html' %}
{% block title %}Página {{ page_obj.number }} | DevLima{% endblock title %}
{% block content %}
<h2 class="ps-5">Página {{ page_obj.number }}</h2>
{% if page_obj %}
    {% for post in page_obj %}
    <div class="post mb-4 p-3 p-md-4 border rounded mx-2 mx-md-5">
        <h3><a href="{% url 'post-detail' post.id %}">{{ post.title }}</a></h3>
        <span> {{ post.date }}</span>
        <div class="post-content pt-4">
            {{ post.content|striptags|truncatewords_html:100|linebreaks }}
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="m-5 alert alert-info">Nothing here yet... Why not make a new post?</div>
{% endif %}
<div class="pagination d-flex justify-content-center">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="{% url 'posts-paginated' 1 %}">&laquo; first</a>
            <a href="{% url 'posts-paginated' page_obj.previous_page_number %}">previous</a>
        {% endif %}

        <span class="current">
            Página {{ page_obj.number }} / {{ page_obj.paginator.num_pages }}
        </span>

        {% if page_obj.has_next %}
            <a href="{% url 'posts-paginated' page_obj.next_page_number %}">next</a>
            <a href="{% url 'posts-paginated' page_obj.paginator.num_pages %}">last &raquo;</a>
        {% endif %}
    </span>
</div>
{% endblock content %}